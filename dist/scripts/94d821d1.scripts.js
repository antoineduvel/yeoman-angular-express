"use strict";angular.module("yoaeApp",[]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]);var yoaeApp=angular.module("yoaeApp").controller("MainCtrl",["$scope","$timeout","$http",function(a,b,c){a.tri="occurances",a.reverse="true",a.site={lien:"",note:3};var d=function(){c.get("/sites").success(function(c){a.sitesFromServer=c,a.$apply();for(var e=0;e<a.sitesFromServer.length;e++)if(a.sitesFromServer[e].enCours){b(d,5e3);break}})};d(),a.submitSite=function(b){c.post("/create",b).success(function(){d(),a.site.lien="",a.site.note="3"})},a.deleteSite=function(a){c.post("/delete",a).success(function(){d()})}}]);yoaeApp.filter("stars",function(){var a={1:"★",2:"★★",3:"★★★",4:"★★★★",5:"★★★★★"};return function(b){return a[Math.round(b)]}});